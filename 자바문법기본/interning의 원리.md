### JAVA 7 이전 버전 기준



![img](https://k.kakaocdn.net/dn/bxKQEX/btqC84R3A3M/NNbMtPGsgbCVDDjQbznwU0/img.png)그림으로 도식화 하자면 이러한 방식으로 흘러간다.



 이러한 방식은 우리의 프로그램의 메모리 사용을 줄여주는데 효과적이다.

그러나 주의해야할 점이 있다. 그러한 캐시 방식은 힙 메모리 영역과 비교했을 때

크기가 제한된 JVM (PERGEN 영역)에 의해 관리되므로 **중복 값이 너무 많지 않은겨우 intern() 메서드를 사용하지 말아야 한다**.

또한 가장 치명적인 단점은 GC에 의해 관리되어지지 않는다는 점이다. 

- **OOM 발생 가능성이 커진다.**

(JAVA 7이전 버전 기준)

------

### JAVA 7 버전 기준

> JAVA 7 버번에는 String pooling 로직에 대대적인 혁신이 일어났다.
> String Pool이 Heap 메모리 영역으로 옮겨졌다는 것이다.

 

JAVA8 버전부터는 PERGEN 영역이 아예 없어진다. - Native 영역으로 이동 Metaspace 영역으로 대체

  

이것이 시사하는 바는 크게 두 가지이다.

1. 더 이상 별도의 고정된 크기의 메모리 영역에 의해 제한받지 않아도 된다.
2. GC의 관리를 받지 않은 PERGEN 영역에서 GC의 관리를 받는 힙 영역으로 옮겨졌다는 것을 의미한다.

 

우리의 프로그램에서 String의 값을 참조하는 것이 없어진다면 GC가 사용하지 않는 것으로 판명하여 해당 String을 제거한다.

또한 튜닝을 통하여 힙 메모리 영역의 크기를 관리할 수 도 있다.

 

> 이미 선언된 문자열 값이 있다면 선언된 것을 참조하기 때문에 메모리를 절약할 수 있고 해당 문자열이 사용되지 않는다면 GC에 의해 소멸되고 훨씬 더 좋아졌다고 볼 수 있다.



